.doc
  %h1 Repara Clujul API Doc
  %p The API has two main components. The Image Upload Service and the Issue Reporting Service
  %h2 Image Upload Service
  %p Used to upload images to the server. Will return a public url for the image
  %p <b>POST</b> /upload with 'image' param
  %p Examples:
  %p curl -X POST -F "image=@public/images/logo.png" #{base_url}upload
  %p
    %a{:href => '/up'} form example
  %p Sample response:
  %pre= pretty_json(generate_upload_response('image.png'))
  %h2 Issue Reporting Service
  %p All requests should have the Content-Type header set to <b>application/json</b>
  %p Example issue
  %pre= pretty_json Issue.first.to_json
  %p Example error
  %pre= pretty_json(generate_error_without_changing_status(400, 'description', []).to_json)
  %h3 Requests
  %p <b>GET</b> /meta
  %p
    %a{:href => '/meta'} Example
  %p <b>GET</b> /issues
  %p <b>POST</b> /issues
  %p curl -X POST -H 'Content-Type: application/json' -d '{"name":"hello", "category":"altele"}' #{base_url}issues
  %p Required params: name, category
  %p
    Valid categories:
    = settings.config['meta']['categories']
  %p <b>PUT</b> /issues/:id
  %p curl -X PUT -H 'Content-Type: application/json' -d '{"name":"test2"}' #{base_url}issues/#{Issue.first['_id']}
  %p <b>PUT</b> /issues/:id/add_to_set
  %p curl -X PUT -H 'Content-Type: application/json' -d '{"images":["http://foo.png","http://bar.png"]}' #{base_url}issues/#{Issue.first['_id']}/add_to_set
  %pre= pretty_json({'images' => ['url1', 'url2'] }.to_json)
